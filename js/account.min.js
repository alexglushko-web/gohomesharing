"use strict";window.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".private"),t=e.querySelectorAll(".private__list-item"),i=e.querySelectorAll(".private__content-item");t.forEach(e=>{e.addEventListener("click",e=>{for(let r=0;r<t.length;r++)e.target!=t[r]||e.target.classList.contains("exit")||(i.forEach(e=>e.classList.remove("active")),i[r].classList.add("active")),e.target.classList.contains("exit")&&console.log("EXIT")})});let r=e.querySelectorAll(".private__dropdown-item"),s=e.querySelectorAll(".private__dropdown__title");s.forEach(e=>{e.addEventListener("click",()=>{for(let t=0;t<s.length;t++)s[t]==e&&r[t].classList.toggle("active")})});class l{constructor(e){this.slider=e,this.row=e.querySelector(".slider__row"),this.items=e.querySelectorAll(".slider__item"),this.indents=1*getComputedStyle(this.slider).getPropertyValue("--indents").split("px")[0],this.quantity=1*getComputedStyle(this.slider).getPropertyValue("--quantity"),this.prev=e.querySelector(".slider__toggle.prev"),this.next=e.querySelector(".slider__toggle.next"),this.dots=e.querySelectorAll(".slider__dots-item"),this.index=0,this.next.addEventListener("click",()=>{this.index++,this.toggleSlider()}),this.prev.addEventListener("click",()=>{this.index--,this.toggleSlider()}),this.dots&&this.dots.forEach(e=>{e.addEventListener("click",e=>{for(let t=0;t<this.dots.length;t++)this.dots[t]===e.target?(this.dots[t].classList.add("active"),this.index=t,this.toggleSlider()):this.dots[t].classList.remove("active")})})}toggleSlider(){this.index>this.items.length-this.quantity&&(this.index=0),this.index<0&&(this.index=this.items.length-this.quantity),console.log(this.items[0].offsetWidth),this.row.style.left=-this.index*(this.items[0].offsetWidth+this.indents)+"px",this.dots.forEach(e=>{e.classList.remove("active")}),this.dots[this.index].classList.add("active")}}document.querySelectorAll(".slider").forEach(e=>{new l(e)});let a,c=[{name:"Иван Иванов Иванович",number:"4561 4568 1381 5912",date:new Date,cvc:159},{name:"Денис Денисов Денисович",number:"2985 4198 3573 2894",date:new Date,cvc:289},{name:"Денис Денисов Денисович",number:"2985 4198 3573 2899",date:new Date,cvc:289},{name:"Денис Денисов Денисович",number:"2985 4198 3573 2895",date:new Date,cvc:289}],n=document.querySelector(".private__card__list"),d=document.querySelector(".private__card__new"),o=document.querySelector(".private__card__new>.private__btn"),_=document.querySelector(".private__card__add"),h=document.querySelector(".private__card__add>.private__btn");function u(){n.innerHTML="",c.forEach(e=>{n.insertAdjacentHTML("beforeend",`\n                <div class="cards__item private__card__item">\n                    <span class="cards__title">\n                        <i class="icon-card"></i> \n                        <span>**** **** **** ${e.number.split(" ")[3]}</span> \n                        <i class="icon-close"></i>\n                    </span>\n                </div>\n            `)}),a=document.querySelectorAll(".private__card__item>.cards__title>.icon-close"),a.forEach(e=>{e.addEventListener("click",()=>{a=document.querySelectorAll(".private__card__item>.cards__title>.icon-close");for(let t=0;t<a.length;t++)a[t]==e&&(console.log(t),c.splice(t,1),u(),a=document.querySelectorAll(".private__card__item>.cards__title>.icon-close"));c.length<1&&(n.innerHTML='<p class="private__card__empty"><i class="icon-danger"></i> Пока в Вашем списке нет банковских карт.</p>')})})}function v(){var e=this.value.replace(/\D/g,"");this.value="";for(var t=0;t<e.length;t++)this.value+=(t%4==0&&0!=t?" ":"")+e[t]}o.addEventListener("click",()=>{d.style.display="none",_.style.display="block"}),c.length>0&&u(),_.querySelector(".private__card__number").addEventListener("input",v),h.addEventListener("click",()=>{c.length;let e=_.querySelector(".private__card__name"),t=_.querySelector(".private__card__number"),i=_.querySelector(".private__card__date"),r=_.querySelector(".private__card__cvc");19==t.value.length&&(c.push({name:e.value,number:t.value,date:i.value,cvc:r.value}),console.log(c),u()),t.addEventListener("input",v)}),window.matchMedia("(max-width: 640px)").matches,window.matchMedia("(max-width: 360px)").matches});